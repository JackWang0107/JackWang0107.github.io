---
title: "XJTU计算机视觉2022-Spring-3: 数字图像处理基础"
date: 2022-03-11 23:55:00
summary: "本文是XJTU计算机视觉2022-Spring第四节课的笔记"
img: https://jack-1307599355.cos.ap-shanghai.myqcloud.com/img/image-20220306215122381.png
categories:
 - XJTU计算机视觉2022-Spring
tags:
 - 计算机视觉
 - 模式识别
 - Computer Vision
 - Pattern Recognition
 - Digital Image Processing
---

> 本文是XJTU计算机视觉2022 Spring 第四节课的笔记，本节课主要讲解了数字图像处理的基础知识，包括：几何变换、灰度变换、空间滤波、频域滤波。

![计算机视觉与模式识别](https://jack-1307599355.cos.ap-shanghai.myqcloud.com/img/image-20220306215122381.png)





#  XJTU计算机视觉2022-Spring-3: 数字图像处理基础

上节课我们讲解了相机的成像模型，这节课我们将讲解数字图像处理的基础，具体来说我们将讲解一些基础的数字图像处理的方法。

首先我们将讲解图像的两种理解方式：二维函数理解以及二维信号理解，从而为后续的讲解做好基础。然后我们将分别从两种角度来给出数字图像处理的基础操作。我们在第二节课中讲过了数字图像处理的定义，就是输入输出都是图像的操作。而在经过数字图像处理之后得到的输出图像具有一些输入图像不具有的性质。







## 1. 数字图像的两种理解

数字图像的其实有两种理解，第一种是二维函数的理解，第二种是二维信号的理解



### 1. 图像的二维函数理解

我们其实在前面的第二节课：数字图像处理的基础知识中，其实就已经讲解了图像的二维函数理解，不过我们在当时并没有显示的说出讲的就是图像的二维函数理解。

以Lena为例，我们将左上角定义为坐标原点，然后竖直向下为$v$的正方向，水平向右为$u$正方向，绘制得到在坐标轴下的Lena的图像如下。

![坐标轴下的Lena图像](https://jack-1307599355.cos.ap-shanghai.myqcloud.com/img/image-20220312001357747.png)

则我们定义一个图像$I$为下面的二维函数函数
$$
I = I(u,v)
$$
其中函数的自变量$u,v$为大于0的整数。因此，在点$(i,j)$处的像素值为$I_0=I(i,j)$。

二维函数是一个曲面，因此最直观的感受就是从三维的角度来看二维函数，我们把Lena绘制在三维空间中，就可以看到下面的图像。注意图像表示的曲面是不连续的，在网格点之间是存在间断的。

![绘制在三维空间中的Lena](https://jack-1307599355.cos.ap-shanghai.myqcloud.com/img/image-20220312002038672.png)

上面就是图像的二维函数理解。





### 2. 图像的二维信号理解

我们在通常意义上所说的信号，都是指随着时间t变化的某一个量，这个量可以是物理量，也可以是非物理量，例如：电磁波、声波这两类物理量都是信号，而股票价格也可以视为是信号。

其实这只是信号的狭义理解。**信号的本质是变化（引用自课后问苏老师的原话）**，而变化则是指某个量A随着量B的改变而发生的改变。我们上面说的狭义的信号，都是指随着时间的变化而发生改变的量。

变化不仅仅可以随着时间改变的，也可以随着空间的移动发生的。因此，**图像就是定义在二维空间上的信号**。

信号最直观的理解就是有一个波形图，因此我们绘制图像沿着行或者沿着列随着空间移动的像素值，得到的图像如下

![沿着黑线的横轴和纵轴绘制得到的图像](https://jack-1307599355.cos.ap-shanghai.myqcloud.com/img/image-20220312003348910.png)

这一刻我们豁然开朗，又看到了以往熟悉的信号波形。而信号在时域上定义的频率、振幅（幅度）和周期都可以迁移到图像这个二维信号中来：

- **图像的频率指图像中像素变化的快慢**，变化的越快频率越高，变化的越慢频率越低。注意，时域信号变化的快慢是指时间上的变化的快慢，而这里的空域信号变化的快慢是指空间上变化的快慢。比如城市的部分频率高于天空的部分。
- **图像的幅度指图像中像素的大小**，比如天空中太阳照亮的区域幅度高于其他区域。
- 对时域信号而言，相位则是指某一个信号（空域信号的像素值），出现的时间的值（空域信号的位置）。所以**空域信号的相位其实指的就是某一个像素出现在图像上的位置**。
- 高/低通滤波器指让高/低频（变化快/低）的信号通过的信号选择器。在图像上就是让周围像素值差异大/小的信号分量通过。

> 而我们仔细看横轴像素，就会发现存在一个异常值，而这个异常值其实是塔尖。换而言之，波形图上信号其实蕴含了图像的信息，从信号中学习到的pattern其实也能够帮助我们来理解图像。

以上就是图像的二维信号的理解。







## 2. 数字图像处理基础

**所谓数字图像处理是指借助于数字计算机来处理数字图像**。它有两个主要应用领域：

1. 改善图示信息以便人们解释
2. 为存储、传输和表示而对数字图像进行处理，以便于机器自动理解

我们下面将讲解四种图像处理的手段：

- 几何变换： 旋转、缩放、平移、……
- 灰度变换： 图像反转、伽马矫正、直方图均衡、……
- 空间滤波： 模板运算、平滑和锐化、……
- 频域滤波： 离散傅里叶变换、离散余弦变换、……





### 1. 几何变换



#### 1. 几何变换定义

**几何变换指的是把一幅图像中的坐标位置映射到另一幅图像中的新坐标位置而不改变像素值，其实质是改变某一个像素的空间位置**。

**我们先给出一个像素的几何变换的数学描述**，对于cameraman的三脚架上的像素而言，我们改变其位置，而不改变其像素值，然后对于原始图像中所有的像素进行同样的变换，就得到了新的图像。

![几何变换的例子](https://jack-1307599355.cos.ap-shanghai.myqcloud.com/img/image-20220312005654565.png)

对于这种变换我们使用一个函数$G$来表示，即
$$
(x',y') = G(x, y)\qquad \Rightarrow \qquad
\begin{cases}
x' = G_x(x,y)\\
y' = G_y(x,y)
\end{cases}
$$
我们上面说到，图像的数学描述是一个二维函数，即$I=I(x,y)$，设经过处理之后的图像为$O$，则有
$$
O(x',y') = I(x,y), \qquad \forall (x,y) \in D, (x',y')=G(x,y)
$$
即对这原图像的所有的像素点，使用函数$G$对其坐标位置进行变换就得到了新的图像上的对应位置的点

![几何变换的数学描述](https://jack-1307599355.cos.ap-shanghai.myqcloud.com/image-20220316085504126.png)



#### 2. 几何变换的分类

根据函数$G$的种类的不同，几何变换也分为不同的类型，简单的来说，几何变换可以分为：

- **线性变换**：平移变换（Translation）、欧几里德变换（Euclidean）、相似变换（Similarity）、仿射变换（Affine）
- **非线性变换**：透视/投影变换（Projective）

![常用的几何变换](https://jack-1307599355.cos.ap-shanghai.myqcloud.com/image-20220316085839102.png)



#### 3. 线性几何变换

线性几何变换指的是从$(x,y)$到$(x',y')$的变换是线性的，线性变换的函数数学描述为
$$
\begin{cases}
x' = G_x(x,y) = a_{11}x+a_{12}y+b_1\\
y' = G_y(x,y) = a_{21}x+a_{22}y+b_2
\end{cases}
$$
矩阵表述为
$$
\begin{bmatrix}
x'\\y'
\end{bmatrix} = 
\begin{bmatrix}
a_{11} & a_{12}\\
a_{21} & a_{22}
\end{bmatrix}
\begin{bmatrix}
x\\y
\end{bmatrix} + 
\begin{bmatrix}
b_1\\b_2
\end{bmatrix}=
A_{2\times2} \begin{bmatrix}
x\\y
\end{bmatrix}+b_{2\times1}
$$
而其逆变换为
$$
\begin{bmatrix}
x\\y
\end{bmatrix}=
A_{2\times2}^{-1}\left(\begin{bmatrix}
x'\\y'
\end{bmatrix}-b_{2\times1}\right)
$$
对于不同的线性变换来说，其实就是变换的矩阵$A$和偏移$b$的不同





##### 1. 平移变换

平移变换的$A$是一个单位矩阵，$b$是根据需要给出的偏移向量，即

![平移变换](https://jack-1307599355.cos.ap-shanghai.myqcloud.com/image-20220316090842166.png)





##### 2. 旋转变换

绕图像上某个点$(x_0,y_0)$旋转$\theta$度的变换如下
$$
\begin{bmatrix}
x'\\y'
\end{bmatrix} = 
\begin{bmatrix}
\cos\theta & -\sin\theta\\
\sin\theta & \cos\theta
\end{bmatrix}
\left(
\begin{bmatrix}
x\\y
\end{bmatrix}
-\begin{bmatrix}
x_0\\y_0
\end{bmatrix}
\right)
+ 
\begin{bmatrix}
x_0\\y_0
\end{bmatrix}
$$
![旋转变换](https://jack-1307599355.cos.ap-shanghai.myqcloud.com/image-20220316091206924.png)



##### 3. 放缩变换

放缩变换就是把原来的图像放大$s$倍，对应的表达式为
$$
\begin{bmatrix}
x'\\y'
\end{bmatrix} = 
s \begin{bmatrix}
xs\\y
\end{bmatrix}
$$
![放缩变换](https://jack-1307599355.cos.ap-shanghai.myqcloud.com/image-20220316092022553.png)

##### 4. 其余线性变换

其实对于二维平面上的一张图像，在不改变图像的形状的基础上，基本的变换就包括平移、旋转和放缩这三种变换，剩下的变换都是由这几种变换组合得到的。

例如欧几里德变换就是平移+旋转，相似变换就是平移+放缩+旋转

![其余线性变换](https://jack-1307599355.cos.ap-shanghai.myqcloud.com/image-20220316092325783.png)

而对于改变图像形状的变换，统称为仿射变换。对应的表达式就是统一的矩阵

![仿射变换](https://jack-1307599355.cos.ap-shanghai.myqcloud.com/image-20220316092512575.png)







#### 4. 前向变换与后向变换

在进行几何变换的时候
